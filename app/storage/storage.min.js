!function(){function t(t){try{return n.isObj(t)||n.isArr(t)?JSON.parse(t):t}catch(e){return t}}function e(t){try{return n.isFunc(t)?t:JSON.stringify(t)}catch(e){return t}}function r(t){this.store=t}var n={isObj:function(t){return"object"===Object.prototype.toString.call(t).slice(8,-1).toLowerCase()},isArr:function(t){return t instanceof Array},isStr:function(t){return"string"==typeof t},isFunc:function(t){return"function"==typeof t}};r.prototype={get:function(){var e,r,o=0,i=arguments[0],s="";if(n.isStr(i))s=t(this.store.getItem(i));else if(n.isArr(i))for(r=i,i=null,e=r.length,s={};o<e;o++)i=r[o],n.isStr(i)&&(s[i]=t(this.store.getItem(i)));return s},set:function(){var t,r,o;if(n.isStr(arguments[0]))t=arguments[0],r=arguments[1],this.store.setItem(t,e(r));else if(n.isObj(arguments[0])){o=arguments[0];for(t in o)o.hasOwnProperty(t)&&(r=e(o[t]),this.store.setItem(t,r))}},remove:function(){var t,e=0,r=arguments.length;if(0===r)this.store.clear();else if(1===r)t=arguments[0],this.store.removeItem(t);else for(;e<r;e++)t=arguments[e],this.store.removeItem(t)},clear:function(){this.store.clear()}},window.db=function(t){var e=t?window.localStorage:window.sessionStorage,n="storageTest_"+(new Date).getTime();if(e)try{e.setItem(n,n),e.removeItem(n)}catch(t){console.error(t),alert("关闭浏览器的无痕模式试试吧~~")}else alert("浏览器不支持"+(t?"localStorage":"sessionStorage")+"哦!\n换个浏览器试试~~");return new r(e)}}();